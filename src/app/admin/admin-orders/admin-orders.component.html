<app-navbar></app-navbar>

<div class="container">
  <table class="table">
    <thead>
      <tr>
        <th>Customer</th>
        <th>Date</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let order of orders">
        <td>{{ order.data.shipping.name }}</td>
        <td>{{ order.data.datePlaced | date }}</td>
        <td>
          <button
            class="btn btn-sm btn-outline-primary"
            (click)="open(content)"
          >
            View Order
          </button>
          <ng-template #content let-modal>
            <div class="modal-header">
              <h4 class="modal-title" id="modal-basic-title">Order Details</h4>
              <button
                type="button"
                class="close"
                aria-label="Close"
                (click)="modal.dismiss('Cross click')"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <h4>Ordered by</h4>
              <div class="container">
                <p>Name: {{ order.data.shipping.name }}</p>
                <p>Address Line 1: {{ order.data.shipping.addressLine1 }}</p>
                <p>Address Line 2: {{ order.data.shipping.addressLine1 }}</p>
                <p>City: {{ order.data.shipping.city }}</p>
              </div>
              <hr />
              <h4>Items ordered</h4>
              <ul class="list-group" *ngFor="let item of order.data.items">
                <li class="list-group-item" style="border: none">
                  {{ item.product.title }} x {{ item.quantity }} =
                  {{ item.totalPrice | currency: "USD":true }}
                </li>
              </ul>
            </div>

            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-outline-danger"
                (click)="modal.close('Save click')"
              >
                Close
              </button>
            </div>
          </ng-template>

          <!-- <div class="modal" id="viewOrderModal">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <button class="close" data-dismiss="modal">items;</button>
                  <h4 class="modal-title">Order details</h4>
                </div>
                <div class="modal-body">
                  <h4>hii</h4>
                </div>
                <div class="modal-footer">
                  <button class="btn-primary">Close</button>
                </div>
              </div>
            </div>
          </div> -->
        </td>
      </tr>
    </tbody>
  </table>
</div>
